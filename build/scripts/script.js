var pomodoro={min:25,sec:0,timerInterval:"",init:function(){this.cacheDom(),this.bindEvents(),this.render(this.min,this.sec),this.checkStates()},cacheDom:function(){this.$el=$("#pomodoro"),this.$timer=this.$el.children("p"),this.$start=$("#start"),this.$pause=$("#pause"),this.$subtract=$("#subtract"),this.$add=$("#add"),this.$reset=$("#reset")},bindEvents:function(){this.$start.on("click",this.startTimer.bind(this)),this.$pause.on("click",this.pauseTimer.bind(this)),this.$subtract.on("click",this.subtractTime.bind(this)),this.$add.on("click",this.addTime.bind(this)),this.$reset.on("click",this.resetTimer.bind(this))},render:function(t,i){this.$timer.text(this.pad(t,2)+":"+this.pad(i,2))},checkStates:function(){("work"===this.$timer.prop("state")||"paused"===this.$timer.prop("state"))&&(this.$pause.prop("disabled",!1),this.$el.find("button").not(this.$pause).not(this.$reset).prop("disabled",!0)),"stopped"===this.$timer.prop("state")&&(this.$el.find("button").prop("disabled",!1),this.$pause.prop("disabled",!0))},pad:function(t,i){return t=t.toString(),t.length<i?this.pad("0"+t,i):t},startTimer:function(){this.$timer.prop("state","work"),this.checkStates(),this.countDown(),this.timerInterval=setInterval(this.countDown.bind(this),1e3)},pauseTimer:function(){"paused"!==this.$timer.prop("state")?(this.$timer.prop("state","paused"),clearInterval(this.timerInterval)):(this.$timer.prop("state","work"),this.countDown(),this.timerInterval=setInterval(this.countDown.bind(this),1e3))},subtractTime:function(){this.min--,this.render(this.min,this.sec)},addTime:function(){this.min++,this.render(this.min,this.sec)},resetTimer:function(){this.$timer.prop("state","stopped"),this.checkStates(),clearInterval(this.timerInterval),this.min=25,this.sec=0,this.render(this.min,this.sec)},countDown:function(){this.sec--,-1==this.sec&&(this.sec=59,this.min--),this.render(this.min,this.sec)}};pomodoro.init();